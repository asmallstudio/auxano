<!doctype html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Content Manager</title>

  <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
</head>

<body>
  <!-- Include the script that builds the page and powers Netlify CMS -->
  <script src="https://unpkg.com/netlify-cms@^2.0.0/dist/netlify-cms.js"></script>
  <script>
    if (window.netlifyIdentity) {
      window.netlifyIdentity.on("init", user => {
        if (!user) {
          window.netlifyIdentity.on("login", () => {
            document.location.href = "/admin/";
          });
        }
      });
    }

    const PagePreview = (filename) => createClass({
      render: function () {
        return h('div', {},
          h('p', {
            style: {
              color: "rgb(122, 130, 145)",
              fontWeight: "bold",
              fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'
            }
          },
            "Note: The image below is for reference only, it may not represent the latest content from your website."),
          h('img', {
            src: `/admin/guides/${filename}.jpg`, style: { width: "100%" }, alt: "Visual documentation guide"
          })
        );
      }
    });

    CMS.registerPreviewTemplate("home", PagePreview("home"));
    CMS.registerPreviewTemplate("aboutUs", PagePreview("aboutUs"));
    CMS.registerPreviewTemplate("contact", PagePreview("contact"));
    CMS.registerPreviewTemplate("ourApproach", PagePreview("ourApproach"));
    CMS.registerPreviewTemplate("businessServices", PagePreview("businessServices"));
    CMS.registerPreviewTemplate("careers", PagePreview("careers"));
    CMS.registerPreviewTemplate("corporateExecutiveSolutions", PagePreview("corporateExecutiveSolutions"));
    CMS.registerPreviewTemplate("estatePlanning", PagePreview("estatePlanning"));
    CMS.registerPreviewTemplate("investments", PagePreview("investments"));
    CMS.registerPreviewTemplate("personalFinances", PagePreview("personalFinances"));
    CMS.registerPreviewTemplate("riskManagement", PagePreview("riskManagement"));
    CMS.registerPreviewTemplate("taxPlanning", PagePreview("taxPlanning"));
    CMS.registerPreviewTemplate("clientServices", PagePreview("clientServices"));
  </script>
</body>

</html>